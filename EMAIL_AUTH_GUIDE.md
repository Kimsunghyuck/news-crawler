# Email Authentication ì‚¬ìš© ê°€ì´ë“œ

## êµ¬í˜„ ì™„ë£Œ í•­ëª©

âœ… Firebase Email Link Authentication êµ¬í˜„
âœ… ëœë”© í˜ì´ì§€ UI (ì…ì¥í•˜ê¸° ë²„íŠ¼)
âœ… ì´ë©”ì¼ ì…ë ¥ í¼
âœ… ì´ë©”ì¼ í™•ì¸ ëŒ€ê¸° í™”ë©´
âœ… ìë™ ì¸ì¦ ì²˜ë¦¬
âœ… ë‹¤í¬ëª¨ë“œ ì§€ì›

## ì‹¤í–‰ ë°©ë²•

### 1ë‹¨ê³„: Firebase í”„ë¡œì íŠ¸ ì„¤ì •

**FIREBASE_SETUP.md** íŒŒì¼ì„ ì°¸ê³ í•˜ì—¬ Firebase í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì„¤ì •í•˜ì„¸ìš”.

í•µì‹¬ ë‹¨ê³„:
1. Firebase Consoleì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
2. ì›¹ ì•± ì¶”ê°€
3. Authentication â†’ Email/Password í™œì„±í™”
4. Authorized domainsì— ë„ë©”ì¸ ì¶”ê°€ (`localhost`, GitHub Pages ë„ë©”ì¸)

### 2ë‹¨ê³„: Firebase Config ì…ë ¥

**docs/static/js/auth.js** íŒŒì¼ì„ ì—´ê³ :

1. **17~24ë²ˆ ì¤„**: `firebaseConfig` ê°ì²´ì— ì‹¤ì œ ê°’ ì…ë ¥
2. **65ë²ˆ ì¤„**: `actionCodeSettings.url` ìˆ˜ì •
   - ë¡œì»¬: `http://localhost:8000`
   - ë°°í¬: `https://your-username.github.io/document-test`

```javascript
// ì˜ˆì‹œ
const firebaseConfig = {
    apiKey: "AIzaSyABCDEFGHIJKLMNOPQRSTUVWXYZ",
    authDomain: "hyeok-news.firebaseapp.com",
    projectId: "hyeok-news",
    storageBucket: "hyeok-news.appspot.com",
    messagingSenderId: "123456789012",
    appId: "1:123456789012:web:abc123def456"
};

const actionCodeSettings = {
    url: 'http://localhost:8000',  // í˜„ì¬ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •
    handleCodeInApp: true,
};
```

### 3ë‹¨ê³„: ë¡œì»¬ í…ŒìŠ¤íŠ¸

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
cd docs
python -m http.server 8000
```

ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8000 ì ‘ì†

### 4ë‹¨ê³„: ì¸ì¦ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

1. **"ì…ì¥í•˜ê¸°" ë²„íŠ¼ í´ë¦­**
2. **ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥** (ì‹¤ì œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë©”ì¼)
3. **"ì¸ì¦ ì½”ë“œ ì „ì†¡" ë²„íŠ¼ í´ë¦­**
4. **ì´ë©”ì¼í•¨ í™•ì¸** (ìŠ¤íŒ¸í•¨ë„ í™•ì¸)
5. **ì´ë©”ì¼ì˜ ë¡œê·¸ì¸ ë§í¬ í´ë¦­**
6. **ìë™ìœ¼ë¡œ ì‚¬ì´íŠ¸ ì…ì¥** âœ¨

## ì¸ì¦ í”Œë¡œìš° ì„¤ëª…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: ëœë”© í˜ì´ì§€                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   ğŸŒ Hyeok Crawler       â”‚       â”‚
â”‚  â”‚   "ì…ì¥í•˜ê¸°" ë²„íŠ¼         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ í´ë¦­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: ì´ë©”ì¼ ì…ë ¥                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ğŸ“§ ì´ë©”ì¼ ì¸ì¦            â”‚       â”‚
â”‚  â”‚ [example@email.com]      â”‚       â”‚
â”‚  â”‚ [ì¸ì¦ ì½”ë“œ ì „ì†¡] ë²„íŠ¼     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ì „ì†¡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: ì´ë©”ì¼ í™•ì¸ ëŒ€ê¸°           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ âœ‰ï¸ ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”  â”‚       â”‚
â”‚  â”‚ example@email.com ìœ¼ë¡œ    â”‚       â”‚
â”‚  â”‚ ë¡œê·¸ì¸ ë§í¬ë¥¼ ì „ì†¡í–ˆìŠµë‹ˆë‹¤â”‚       â”‚
â”‚  â”‚                          â”‚       â”‚
â”‚  â”‚ ğŸ“Œ ì´ë©”ì¼ì—ì„œ ë§í¬ í´ë¦­!  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ë§í¬ í´ë¦­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: ìë™ ë¡œê·¸ì¸                â”‚
â”‚  ğŸ” Firebase ì¸ì¦ ì²˜ë¦¬...            â”‚
â”‚  âœ… ì¸ì¦ ì™„ë£Œ!                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 5: ë©”ì¸ ì‚¬ì´íŠ¸ í‘œì‹œ           â”‚
â”‚  ğŸ“° ì˜¤ëŠ˜ì˜ ë‰´ìŠ¤                      â”‚
â”‚  (Navigation, News Grid ë“±)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì£¼ìš” ê¸°ëŠ¥

### 1. Email Link Authentication
- ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì´ë©”ì¼ë§Œìœ¼ë¡œ ì¸ì¦
- ì´ë©”ì¼ë¡œ ì „ì†¡ëœ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ìë™ ë¡œê·¸ì¸
- Firebaseê°€ ë³´ì•ˆ ì²˜ë¦¬ (ë§í¬ ë§Œë£Œ, ì¬ì‚¬ìš© ë°©ì§€)

### 2. UI/UX íŠ¹ì§•
- ë‹¨ê³„ë³„ ì• ë‹ˆë©”ì´ì…˜ (fadeIn)
- ë¡œë”© ìƒíƒœ í‘œì‹œ (ìŠ¤í”¼ë„ˆ)
- ì—ëŸ¬ ë©”ì‹œì§€ (í”ë“¤ë¦¼ íš¨ê³¼)
- ë‹¤í¬ëª¨ë“œ ìë™ ì ìš©
- ëª¨ë°”ì¼ ë°˜ì‘í˜•

### 3. ë³´ì•ˆ ê¸°ëŠ¥
- Firebase Auth State Observer (ìë™ ë¡œê·¸ì¸ ìœ ì§€)
- ì´ë©”ì¼ ë§í¬ ë§Œë£Œ ì²˜ë¦¬
- ìŠ¹ì¸ëœ ë„ë©”ì¸ë§Œ í—ˆìš©
- localStorageì— ì´ë©”ì¼ ì„ì‹œ ì €ì¥ (ê²€ì¦ í›„ ì‚­ì œ)

## ë””ë²„ê¹…

### ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸

```javascript
// Firebase ìƒíƒœ í™•ì¸
window.firebaseAuth.currentUser()  // í˜„ì¬ ì‚¬ìš©ì í™•ì¸

// ë¡œê·¸ì•„ì›ƒ
window.firebaseAuth.signOut()  // ìˆ˜ë™ ë¡œê·¸ì•„ì›ƒ

// ì½˜ì†” ë¡œê·¸ í™•ì¸
// âœ… Firebase initialized successfully
// ğŸ“§ Email link detected
// ğŸ‘¤ User is signed in: example@email.com
```

### ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°

#### 1. "Firebase ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”" ì—ëŸ¬
- **ì›ì¸**: firebaseConfigê°€ ê¸°ë³¸ê°’ ìƒíƒœ
- **í•´ê²°**: auth.jsì˜ firebaseConfigì— ì‹¤ì œ Firebase ê°’ ì…ë ¥

#### 2. "unauthorized-domain" ì—ëŸ¬
- **ì›ì¸**: Firebaseì—ì„œ í˜„ì¬ ë„ë©”ì¸ì´ ìŠ¹ì¸ë˜ì§€ ì•ŠìŒ
- **í•´ê²°**: Firebase Console â†’ Authentication â†’ Settings â†’ Authorized domainsì— ë„ë©”ì¸ ì¶”ê°€

#### 3. ì´ë©”ì¼ì´ ì˜¤ì§€ ì•ŠìŒ
- ìŠ¤íŒ¸ ë©”ì¼í•¨ í™•ì¸
- Firebase Console â†’ Authentication â†’ Templatesì—ì„œ ì´ë©”ì¼ ì„¤ì • í™•ì¸
- ëª‡ ë¶„ ì •ë„ ì§€ì—°ë  ìˆ˜ ìˆìŒ

#### 4. ë§í¬ í´ë¦­ í›„ "invalid-action-code" ì—ëŸ¬
- **ì›ì¸**: ë§í¬ê°€ ì´ë¯¸ ì‚¬ìš©ë¨ ë˜ëŠ” ë§Œë£Œë¨
- **í•´ê²°**: "ë§í¬ ì¬ì „ì†¡" ë²„íŠ¼ í´ë¦­í•˜ì—¬ ìƒˆ ë§í¬ ë°›ê¸°

#### 5. ë¡œê·¸ì¸ í›„ì—ë„ ëœë”© í˜ì´ì§€ê°€ í‘œì‹œë¨
- ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ `window.firebaseAuth.currentUser()` í™•ì¸
- F5ë¡œ ìƒˆë¡œê³ ì¹¨
- localStorage í™•ì¸: `localStorage.getItem('emailForSignIn')`

## GitHub Pages ë°°í¬ ì‹œ ì£¼ì˜ì‚¬í•­

1. **auth.jsì˜ URL ë³€ê²½**
   ```javascript
   const actionCodeSettings = {
       url: 'https://your-username.github.io/document-test',
       handleCodeInApp: true,
   };
   ```

2. **Firebase Authorized Domains ì¶”ê°€**
   - `your-username.github.io` ì¶”ê°€

3. **Git Commit & Push**
   ```bash
   git add .
   git commit -m "Add Email Authentication"
   git push
   ```

4. **GitHub Pages í™œì„±í™”**
   - Settings â†’ Pages â†’ Source: main branch â†’ /docs folder

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### Firebase API Key ê³µê°œ ì—¬ë¶€

**Firebase API KeyëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œë˜ì–´ë„ ì•ˆì „í•©ë‹ˆë‹¤.**

ì´ìœ :
- Firebase ë³´ì•ˆ ê·œì¹™(Security Rules)ë¡œ ë°ì´í„° ë³´í˜¸
- API KeyëŠ” Firebase ì„œë¹„ìŠ¤ ì‹ë³„ìš©
- ì‹¤ì œ ê¶Œí•œì€ Authenticationìœ¼ë¡œ ì œì–´

í•˜ì§€ë§Œ ê³µê°œ ì €ì¥ì†Œì— ì˜¬ë¦¬ê¸° ì‹«ë‹¤ë©´:
1. `.gitignore`ì—ì„œ `# docs/static/js/firebase-config.js` ì£¼ì„ í•´ì œ
2. Firebase configë¥¼ ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬

### ê¶Œì¥ ë³´ì•ˆ ì„¤ì •

Firebase Console â†’ Authentication â†’ Settings:
- Email enumeration protection: í™œì„±í™” (ì´ë©”ì¼ ì¡´ì¬ ì—¬ë¶€ ìˆ¨ê¹€)
- User account linking: í•„ìš”ì‹œ í™œì„±í™”

## ì¶”ê°€ í•™ìŠµ ìë£Œ

- [Firebase Email Link Auth ê³µì‹ ë¬¸ì„œ](https://firebase.google.com/docs/auth/web/email-link-auth)
- [Firebase Security Rules](https://firebase.google.com/docs/rules)
- [Firebase Pricing](https://firebase.google.com/pricing)

## ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒì‚¬í•­)

ì¸ì¦ ì‹œìŠ¤í…œì„ ë” ë°œì „ì‹œí‚¤ë ¤ë©´:
- [ ] Google/GitHub ì†Œì…œ ë¡œê·¸ì¸ ì¶”ê°€
- [ ] ì‚¬ìš©ì í”„ë¡œí•„ ì €ì¥ (Firestore)
- [ ] ë¶ë§ˆí¬ ê¸°ëŠ¥ì„ ì‚¬ìš©ìë³„ë¡œ ì €ì¥
- [ ] ê´€ë¦¬ì ê¶Œí•œ ì‹œìŠ¤í…œ
- [ ] ë‰´ìŠ¤ ì¶”ì²œ ê°œì¸í™”

## ë¼ì´ì„¼ìŠ¤ & í•™ìŠµ ëª©ì 

ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ëª©ì ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.
Firebase ë¬´ë£Œ í”Œëœ ì œí•œ:
- ì›” 10,000íšŒ ì´ë©”ì¼ ì „ì†¡ (ì¶©ë¶„í•¨)
- ë™ì‹œ ì—°ê²° 100ê°œ
- 1GB ì €ì¥ìš©ëŸ‰

ê°œì¸ í”„ë¡œì íŠ¸ë¡œ ì‚¬ìš©í•˜ê¸°ì— ì¶©ë¶„í•©ë‹ˆë‹¤! ğŸ‰
